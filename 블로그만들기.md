# 블로그 만들기.

생각만 하고 많이 찾아봤으나.. 시간이 없다는 핑계로 하지 않다가 이번에 다시 붙들어 봄.

## 고려사항 1. 어떤 플랫폼을 사용할 것인가?

네이버 블로그, 티스토리, Velog, github.io의 선택지 중,

github.io로 만들어 보는 것으로 결정.

기성 플랫폼 중에서는 velog 테마가 제일 마음에 든다.
오른쪽에 간이 목차 두는 것과, 추천할 만한 글 뜨는 것, 간소하게 정리된 양쪽 사이드와 전체적인 이미지.

## 고려사항 2. github.io로 호스팅한다면, 어떤 프레임워크 / 라이브러리를 이용해 만들 것인가?

바닐라 JS / TS로 한땀한땀 다 만든다는 선택지도 있겠고, Next.js / React 등의 범용적인 프레임워크를 사용할 수 도 있고, Jekyll, Gatsby 등의 블로그에 자주 쓰이는 프레임워크를 선택하고 테마를 가져올 수도 있다.

> 1. 바닐라 JS로는 이것 저것 만들어 보았으며, TS를 적용해 보고 싶은 마음
> 2. React로도 기초적인 여러 페이지를 만들어 보았으며, 더 다양한 훅을 사용해보고 싶다고 생각.
> 3. Next.js로 OSAM 대회 출품작을 만들어 보았으며, 백엔드 연결까지 해서 호스팅 해 본 상태. 역시 TS 적용 및 상태관리의 필요성 느낌.

위 세 가지의 마음 + 새로운 시도 + 모인 생각 / 글 들을 빠르고 간편히 정리하고 싶은 상황이었다.

따라서 처음 시작은 간편하고 빠르게 블로그를 띄울 수 있도록 React 기반인 Gatsby로 선택하기로 했다.

## Gatsby에 대하여..

참고: https://blog.nerdfactory.ai/2022/06/24/setting-gatsby-with-typescript.html

### 1. JAM Stack 기반 정적 페이지 생성 프레임워크

JAM Stack은 모든 데이터를 서버에서 다 불러와서 화면에 올린 후 사용자에게 그 화면을 보여준다.

Next.js, Gatsby, Jekyll 모두 잼스택 방식

### 2. React 기반

### 3. Build 시 Markup 파일이 추가

SEO에 유리!

=========

# 개츠비를 선택한 이유

예전에 동아리에서 정적 블로그를 만드는 툴 중 Jekyll에 대해서 조금 해본적이 있는데, Ruby와 Yaml 방식을 쓰는 터라 생소했었다.  
반면 gatsby는 React 컴포넌트 기반이라 마침 React를 배워나가는 차에 좋은 시너지를 낼 수 있겠다는 생각에 선택했다.

# 개츠비에 대해 이해하기

개츠비에 대해 이해하기 위해서는 [공식 tutorial](https://www.gatsbyjs.com/docs/tutorial/)을 읽어보는 게 좋다. 정리도 아주아주아주 잘 되어 있고, 기초 기술부터 매우매우매우 잘 설명해 준다.

React 컴포넌트, props, javascript 기본 개념부터 찬찬히 설명한다.

Gatsby 컴포넌트는 **preloading Link** 라는 성능 기능을 제공한다. 링크가 스크롤되거나 마우스가 해당 링크를 가리킬 때 링크된 페이지에 대한 리소스를 요청한다. 이렇게 되면 사용자가 링크를 클릭할 때 새 페이지가 더 빨리 로딩된다. (gatsby 사이트 내에서 생성한 페이지만 가능한 것 같다.)

gatsby는 수많은 페이지들의 중복된 부분에다 동일하게 사용할 수 있는 컴포넌트(Layout)을 만드는 기능을 제공한다.  
이는 React 컴포넌트가 구성 요소를 렌더링할 때 자신의 여는 태그와 닫는 태그 사이에 있는 요소들(children)을 자동으로 prop으로 전달하는 걸 이용한 것이다.

===================================

목표 1. Gatsby로 (완벽하지 않더라도) 글 작성 / 수정 / 삭제 가 가능한 블로그 제작 및 호스팅하기

목표 2. typescript 사용

목표 3. GrapeQL 사용

===================================
[일단 요거 따라해보기](https://www.inflearn.com/course/gatsby-%EA%B8%B0%EC%88%A0%EB%B8%94%EB%A1%9C%EA%B7%B8/dashboard)

##

- Root Directory

  - contents  
    블로그 포스트 관련 파일들을 저장하기 위한 디렉토리입니다.

  - src

    - components  
      React Component를 저장하기 위한 디렉토리입니다.

    - hooks  
      Custom Hooks을 저장하기 위한 디렉토리입니다.

    - pages  
      페이지의 역할을 하는 컴포넌트를 저장하기 위한 디렉토리입니다.  
      기본적으로 브라우저에서 pages 디렉토리에 있는 파일의 이름을 통해 페이지에 접근할 수 있기 때문에 페이지의 역할이 아닌 컴포넌트들은 해당 디렉토리에 절대 저장하면 안 됩니다.

    - templates  
      게시글 페이지와 같이 페이지의 역할을 하면서 같은 형식의 여러 콘텐츠를 보여주는 컴포넌트를 저장하기 위한 디렉토리입니다.  
      Gatsby에서 제공하는 API를 통해 이 디렉토리에 저장된 템플릿 컴포넌트로 여러 페이지를 만들 수 있습니다.  
      pages 디렉토리와는 다르게 파일명으로 페이지에 접근이 불가능합니다.

## typescript의 이점

- type의 명확성 -> type checking 가능

- 컴포넌트와 함수들로 구성되는 React에 적용해서 얻는 이점? -> Generic  
  java의 Generic 기능과 거의 동일.  
  Generic은 어떤 클래스나 함수에서 사용할(인자로 받을) type을 그 클래스/함수의 정의 부분이 아닌 사용할 때 결정할 수 있게 만들어주는 기능.
  React에서는 함수형 컴포넌트 타입에 Generic을 추가해서 컴포넌트가 받는 props가 어떤게 있고, type은 뭔지 지정 가능.

## GraphQL

- GraphQL은 REST API와 달리 필요한 데이터만 받아올 수 있다.

- GraphiQL IDE (http://localhost:8000/\_\_\_graphql) 를 통해 데이터 요청 세부 사항, 잠재적 에러 등을 파악 가능.

- Gatsby 메타데이터는 gatsby-config.js 파일에서 확인 가능

- GraphiQL에서 쿼리를 날려서 해당 결과값 쉽게 확인 가능.

- Gatsby에서는 기본적으로 pages 폴더 내부의 파일과 Gatsby API를 통해 생성해주는 페이지의 템플릿 파일에서만 Query 정의가 가능.
- 일반적인 컴포넌트에서는 변수로써 정의가 불가능하고, StaticQuery라는 기능으로 정의 가능.

## 페이지 이동 방법 / \<a\> 태그 or Gatsby Link API

- Gatsby도 Next.js처럼 폴더 구조를 url 절대 경로로 사용하기 때문에 단순히 \<a\> 태그로 페이지 이동 가능하다. 다만, 새로고침이 발생.

- Gatsby에서는 자체적으로 Link API 제공함. (Next.js랑 같은 형식인 듯하다.)

## EmotionJS

EmotionJS는 styled-components의 기능을 거의 동일하게 사용가능한데 번들 용량이 훨씬 작다.

Tagged Template Literal 방식으로 js 파일 안에서 CSS 정의 가능.

### Tagged Template Literal 방식을 통해 정의한 CSS 적용 방법

사용자 정의 컴포넌트에서는 사용이 불가능
`<div css={TextStyle}>{title}</div>`
`'{ children: string; css: SerializedStyles; }' 형식은 'DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>' 형식에 할당할 수 없습니다.  'DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>' 형식에 'css' 속성이 없습니다.ts(2322)`
이를 해결하기 위해서는 기존의 HTML의 Element 타입을 상속받아 해당 프로퍼티를 추가한 새로운 타입을 정의해주어야 함.

### Tagged Template Literal 방식을 통한 Styled Component 생성 방법

```
import styled from '@emotion/styled'

const Text1 = styled.div`
  font-size: 20px;
  font-weight: 700;
`

const Text2 = styled.img``

<Text1>{description}</Text1>
<Text2></Text2>

// 이러한 방식으로 Styled Component 를 만들 수 있다.
```

### Styled Component를 생성하는 또 다른 방식인 스타일 객체로 생성하는 방법

```
// Kebab Case 적용
const Text1 = styled.div`
  font-size: 20px;
  font-weight: 700;
`

// Camel Case 적용
const Text2 = styled('div')(() => ({
  fontSize: '15px',
  color: 'blue',
}))
```

## 폴더 구조

여러 파일에서 사용되는 컴포넌트는 Common에 저장, 나머지는 해당 페이지 이름의 디렉토리에 저장

# ===

# 오라클 평생 무료 서버 제공

https://blog.ny64.kr/posts/create-your-own-lifetime-free-server-using-oracle-cloud/

가입 실패.. 카드 트랜잭션 오류..
문의 넣은 상태.
해결 방법 없다는 답변이 왔는데.. ㅠㅠ

# GCP 무료 서버? 고정 IP가 안된다는 말이 있던데??

yarn berry / pnpm
